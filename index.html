<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Test</title>
</head>

<body style="background:black;color:white">

<h1>TEST</h1>
<div id="team">Loading‚Ä¶</div>

<script>
const url = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQqE6PF33q7CNxxCxsS26B7gHSQui6Sw2sJtuFt_cJsWfqADrxVqnTTsRS9XVSNqWyZnJqVS6GhuwOk/pub?output=csv";

fetch(url)
  .then(r => r.text())
  .then(t => {
    document.getElementById("team").innerText = t;
  })
  .catch(e => {
    document.getElementById("team").innerText = "ERROR: " + e;
  });
</script>

</body>
</html>
<script>
const sheetURL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQqE6PF33q7CNxxCxsS26B7gHSQui6Sw2sJtuFt_cJsWfqADrxVqnTTsRS9XVSNqWyZnJqVS6GhuwOk/pub?output=csv";

const container = document.getElementById("team");
container.innerHTML = "<p style='color:white'>Naƒç√≠t√°m data‚Ä¶</p>";

fetch(sheetURL)
  .then(res => {
    if (!res.ok) throw new Error("Fetch failed: " + res.status);
    return res.text();
  })
  .then(text => {
    container.innerHTML = "";

    const rows = text.trim().split("\n").slice(1);

    rows.forEach(row => {
      const cols = row.split(",");
      if (cols.length < 6) {
        container.innerHTML += `<p style="color:red">≈†patn√Ω ≈ô√°dek: ${row}</p>`;
        return;
      }

      const [name, level, role, medals, tickets, qr] = cols;

      const div = document.createElement("div");
      div.className = "member";

      div.innerHTML = `
        <div class="level">${level}</div>
        <div>
          <div class="name">${name}</div>
          <div class="role">${role}</div>
        </div>
        <div class="stats">
          ü•á ${medals}<br>
          üéü ${tickets}
        </div>
        <div class="qr">
          <img src="${qr}">
        </div>
      `;

      container.appendChild(div);
    });
  })
  .catch(err => {
    container.innerHTML = `<p style="color:red">CHYBA: ${err}</p>`;
  });
</script>
